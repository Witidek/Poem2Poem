{{extend 'layout.html'}}
<input type=button style = "position:relative;" align = "left" onClick="location.href='{{=URL('browse')}}'" value ='Go back to Browse Poems'>
<center>

<h1><i>{{=poem.title}}</i></h1>
</br>
<center>
<div style="width:750px;overflow:auto" class = "center"><pre ><font size = "3"><a href="#" data-toggle="tooltip" data-placement="right" title="{{=poem.author.username}}"style="color: #000000"><div class = "left"><font color = "#9900ff"><b>1  | </b></font></div>{{=poem.body.splitlines()[0]}}<font color = "#9900ff">
<div class = "left"><b>2  | </b></div></font>{{=poem.body.splitlines()[1]}}</a>{{if rows:}}{{for row in rows:}}</br><a href="#" data-toggle="tooltip" data-placement="right" title="{{=row.author.username}}"style="color: #000000">{{if row.line_number > 9:}}<font color = "#9900ff"><b><div class = "left">{{=row.line_number}} | </div></b></font>{{=row.line}}{{else:}}<font color = "#9900ff"><div class = "left"><b>{{=row.line_number}}  | </b></div></font>{{=row.line}}{{pass}}</a>{{if row.line_number == request.args(1,cast = int):}}<font color = "red"><b><u><i>--Editing this line!--</i></u></b></font>{{pass}}{{if (row.line == '') and row.line_number != request.args(1,cast = int):}}<a href="{{=URL('specialadd',args= (poem.id,row.line_number))}}" style="color: #ff0000">Deleted Line: Click Here to Add the Line{{pass}}</a>{{if row.line_number % 4 == 0 and 16 > row.line_number:}} </br> {{pass}}{{pass}}{{pass}}</font></div></center>
</br>


<!--{{if row.line_number == request.args(1,cast = int):}}<font color = "red"><b><u><i>--Editing this line!--</i></u></b></font>{{pass}}-->

<h4>Add a line to this poem</h4>
<h5>Please try your best to keep the rhyme scheme of the poem</h5>

{{=form}}
{{if (request.args(1,cast = int) % 4 == 3) or (request.args(1,cast = int)% 4 == 0) or test == True:}}
<table class="table">
  <col width="500">
    <tr>
        <th>Syllables</th>
        <th>Words that rhyme with {{=rhyme_word}}</th>
    </tr>
    {{for x in range(0,len(sorted_syllables)):}}
   <tr>
       {{if len(sorted_syllables[x]) > 0:}}
           {{words = ''}}
            <td>{{=x}} Syllables: </td>
            {{words = ' , '.join(sorted_syllables[x][0:10])}}
            <td>{{=words}}</td>
        {{pass}}
{{pass}}
    </tr>
    {{pass}}
{{pass}}
</center>
